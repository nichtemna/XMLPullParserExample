package com.nichtemna.saponify.models;

import android.content.ContentValues;
import android.database.Cursor;
import com.nichtemna.saponify.db.entities.RecipeEntity;
import com.nichtemna.saponify.db.entities.RecipeOilEntity;
import com.nichtemna.saponify.utils.consts.Enums;
import org.xmlpull.v1.XmlSerializer;

import java.io.IOException;

/**
 * Created by root on 04.05.14.
 */
public class RecipeOil extends BaseModel implements Xmlable {
    public long mId;
    public long mRecipeId;
    public long mOilId;
    public double mPercents;

    public RecipeOil() {
    }

    public RecipeOil(Cursor pCursor) {
        super(pCursor);
    }

    @Override
    protected void fromCursor(Cursor pCursor) {
        int i = pCursor.getColumnIndex(RecipeOilEntity._ID);
        if (i != -1) {
            mId = pCursor.getLong(i);
        }
        i = pCursor.getColumnIndex(RecipeOilEntity.RECIPE_ID);
        if (i != -1) {
            mRecipeId = pCursor.getLong(i);
        }
        i = pCursor.getColumnIndex(RecipeOilEntity.OIL_ID);
        if (i != -1) {
            mOilId = pCursor.getLong(i);
        }
        i = pCursor.getColumnIndex(RecipeOilEntity.PERCENTS);
        if (i != -1) {
            mPercents = pCursor.getDouble(i);
        }
    }

    @Override
    public ContentValues toContentValues() {
        ContentValues contentValues = new ContentValues();
        contentValues.put(RecipeOilEntity.RECIPE_ID, mRecipeId);
        contentValues.put(RecipeOilEntity.OIL_ID, mOilId);
        contentValues.put(RecipeOilEntity.PERCENTS, mPercents);
        return contentValues;
    }

    @Override
    public void toXml(XmlSerializer pXmlSerializer) throws IOException {
        pXmlSerializer.startTag("", RecipeOilEntity.ROW);

        pXmlSerializer.startTag("", RecipeOilEntity.RECIPE_ID).text(String.valueOf(mRecipeId)).endTag("", RecipeOilEntity.RECIPE_ID);
        pXmlSerializer.startTag("", RecipeOilEntity.OIL_ID).text(String.valueOf(mOilId)).endTag("", RecipeOilEntity.OIL_ID);
        pXmlSerializer.startTag("", RecipeOilEntity.PERCENTS).text(String.valueOf(mPercents)).endTag("", RecipeOilEntity.PERCENTS);

        pXmlSerializer.endTag("", RecipeOilEntity.ROW);
    }
}
